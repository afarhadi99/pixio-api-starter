{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/alish/Documents/GitHub/pixio-api-starter/apps/web/src/lib/validators/auth.ts"],"sourcesContent":["// src/lib/validators/auth.ts\r\nimport { z } from 'zod';\r\n\r\nexport const loginSchema = z.object({\r\n  email: z.string().email({ message: 'Please enter a valid email address' }),\r\n  password: z.string().min(1, { message: 'Password is required' }),\r\n});\r\n\r\nexport const signupSchema = z.object({\r\n  email: z.string().email({ message: 'Please enter a valid email address' }),\r\n  password: z.string().min(8, { message: 'Password must be at least 8 characters' }),\r\n  full_name: z.string().min(1, { message: 'Name is required' }).optional(),\r\n});\r\n\r\nexport const updateProfileSchema = z.object({\r\n  full_name: z.string().min(1, { message: 'Name is required' }),\r\n  avatar_url: z.string().optional(),\r\n});\r\n\r\nexport type TLoginSchema = z.infer<typeof loginSchema>;\r\nexport type TSignupSchema = z.infer<typeof signupSchema>;\r\nexport type TUpdateProfileSchema = z.infer<typeof updateProfileSchema>;\r\n"],"names":[],"mappings":"AAAA,6BAA6B;;;;;;AAC7B;;AAEO,MAAM,cAAc,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IAClC,OAAO,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,KAAK,CAAC;QAAE,SAAS;IAAqC;IACxE,UAAU,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;QAAE,SAAS;IAAuB;AAChE;AAEO,MAAM,eAAe,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IACnC,OAAO,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,KAAK,CAAC;QAAE,SAAS;IAAqC;IACxE,UAAU,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;QAAE,SAAS;IAAyC;IAChF,WAAW,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;QAAE,SAAS;IAAmB,GAAG,QAAQ;AACxE;AAEO,MAAM,sBAAsB,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IAC1C,WAAW,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;QAAE,SAAS;IAAmB;IAC3D,YAAY,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ;AACjC","debugId":null}},
    {"offset": {"line": 49, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/alish/Documents/GitHub/pixio-api-starter/apps/web/src/lib/actions/auth.actions.ts"],"sourcesContent":["// src/lib/actions/auth.actions.ts\r\n'use server';\r\n\r\nimport { createClient } from '@repo/supabase/server';\r\nimport { redirect } from 'next/navigation';\r\nimport { cookies } from 'next/headers';\r\nimport { loginSchema, signupSchema, TLoginSchema, TSignupSchema, updateProfileSchema, TUpdateProfileSchema } from '@/lib/validators/auth';\r\nimport { initializeUserCredits } from '@/lib/credits';\r\n\r\nexport async function login(values: TLoginSchema) {\r\n  // Validate input\r\n  const validatedFields = loginSchema.safeParse(values);\r\n  if (!validatedFields.success) {\r\n    return { error: 'Invalid input' };\r\n  }\r\n\r\n  const { email, password } = validatedFields.data;\r\n  \r\n  // Call cookies to prevent caching\r\n  cookies();\r\n\r\n  const supabase = await createClient();\r\n  \r\n  const { error } = await supabase.auth.signInWithPassword({\r\n    email,\r\n    password,\r\n  });\r\n  \r\n  if (error) {\r\n    return { error: error.message };\r\n  }\r\n  \r\n  redirect('/dashboard');\r\n}\r\n\r\nexport async function signup(values: TSignupSchema) {\r\n  // Validate input\r\n  const validatedFields = signupSchema.safeParse(values);\r\n  if (!validatedFields.success) {\r\n    return { error: 'Invalid input' };\r\n  }\r\n\r\n  const { email, password, full_name } = validatedFields.data;\r\n  \r\n  // Call cookies to prevent caching\r\n  cookies();\r\n\r\n  const supabase = await createClient();\r\n  \r\n  const { data, error } = await supabase.auth.signUp({\r\n    email,\r\n    password,\r\n    options: {\r\n      emailRedirectTo: `${process.env.NEXT_PUBLIC_SITE_URL}/auth/callback`,\r\n      data: {\r\n        full_name,\r\n      },\r\n    },\r\n  });\r\n  \r\n  if (error) {\r\n    return { error: error.message };\r\n  }\r\n  \r\n  // Initialize credits for the new user\r\n  if (data.user) {\r\n    await initializeUserCredits(data.user.id);\r\n  }\r\n  \r\n  // Check if email confirmation is required\r\n  // Redirect to a confirmation page if needed\r\n  \r\n  redirect('/dashboard');\r\n}\r\n\r\nexport async function logout() {\r\n  const supabase = await createClient();\r\n  await supabase.auth.signOut();\r\n  redirect('/');\r\n}\r\n\r\nexport async function updateProfile(values: TUpdateProfileSchema) {\r\n  // Validate input\r\n  const validatedFields = updateProfileSchema.safeParse(values);\r\n  if (!validatedFields.success) {\r\n    return { error: 'Invalid input' };\r\n  }\r\n\r\n  const { full_name, avatar_url } = validatedFields.data;\r\n  \r\n  // Call cookies to prevent caching\r\n  cookies();\r\n\r\n  const supabase = await createClient();\r\n  \r\n  const { data: { user }, error: userError } = await supabase.auth.getUser();\r\n  \r\n  if (userError || !user) {\r\n    return { error: 'Authentication error' };\r\n  }\r\n  \r\n  // Update user metadata\r\n  const { error: updateAuthError } = await supabase.auth.updateUser({\r\n    data: { full_name, avatar_url },\r\n  });\r\n  \r\n  if (updateAuthError) {\r\n    return { error: updateAuthError.message };\r\n  }\r\n  \r\n  // Update public profile\r\n  const { error: updateProfileError } = await supabase\r\n    .from('users')\r\n    .update({\r\n      full_name,\r\n      avatar_url,\r\n    })\r\n    .eq('id', user.id);\r\n  \r\n  if (updateProfileError) {\r\n    return { error: updateProfileError.message };\r\n  }\r\n  \r\n  return { success: true };\r\n}\r\n"],"names":[],"mappings":";;;;;;IAiFsB,gBAAA,WAAA,GAAA,CAAA,GAAA,yNAAA,CAAA,wBAAA,EAAA,8CAAA,yNAAA,CAAA,aAAA,EAAA,KAAA,GAAA,yNAAA,CAAA,mBAAA,EAAA","debugId":null}},
    {"offset": {"line": 65, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/alish/Documents/GitHub/pixio-api-starter/apps/web/src/components/account/update-profile-form.tsx"],"sourcesContent":["// src/components/account/update-profile-form.tsx\r\n'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport { zodResolver } from '@hookform/resolvers/zod';\r\nimport { toast } from 'sonner';\r\nimport { updateProfileSchema, TUpdateProfileSchema } from '@/lib/validators/auth';\r\nimport { updateProfile } from '@/lib/actions/auth.actions';\r\nimport { User } from '@/types/db_types';\r\nimport { motion } from 'framer-motion'; // Import motion\r\n\r\nimport { Button } from '@repo/ui';\r\nimport {\r\n  Form,\r\n  FormControl,\r\n  FormField,\r\n  FormItem,\r\n  FormLabel,\r\n  FormMessage,\r\n} from '@repo/ui';\r\nimport { Input } from '@repo/ui';\r\n\r\ninterface UpdateProfileFormProps {\r\n  profile: User | null;\r\n}\r\n\r\nexport function UpdateProfileForm({ profile }: UpdateProfileFormProps) {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const form = useForm<TUpdateProfileSchema>({\r\n    resolver: zodResolver(updateProfileSchema),\r\n    defaultValues: {\r\n      full_name: profile?.full_name || '',\r\n      avatar_url: profile?.avatar_url || '',\r\n    },\r\n  });\r\n\r\n  async function onSubmit(values: TUpdateProfileSchema) {\r\n    setIsLoading(true);\r\n\r\n    try {\r\n      const result = await updateProfile(values);\r\n\r\n      if (result?.error) {\r\n        toast.error(result.error);\r\n      } else if (result?.success) {\r\n        toast.success('Profile updated successfully');\r\n      }\r\n    } catch (error: any) {\r\n      toast.error(error.message || 'Something went wrong');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  }\r\n\r\n  // Define form fields with animation delays\r\n  const formFields = [\r\n    { name: \"full_name\", label: \"Name\", placeholder: \"Your Name\", type: \"text\", delay: 0 },\r\n    { name: \"avatar_url\", label: \"Avatar URL\", placeholder: \"https://example.com/avatar.jpg\", type: \"text\", delay: 0.1 },\r\n  ];\r\n\r\n  return (\r\n    <Form {...form}>\r\n      <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-5\"> {/* Increased spacing */}\r\n        {formFields.map((field) => (\r\n           <motion.div\r\n             key={field.name}\r\n             initial={{ opacity: 0, y: 10 }}\r\n             animate={{ opacity: 1, y: 0 }}\r\n             transition={{ duration: 0.4, delay: field.delay }}\r\n           >\r\n            <FormField\r\n              control={form.control}\r\n              name={field.name as any}\r\n              render={({ field: formField }) => (\r\n                <FormItem>\r\n                  {/* Styled Label */}\r\n                  <FormLabel className=\"text-base font-medium text-foreground/90\">{field.label}</FormLabel> {/* Larger label */}\r\n                  <FormControl>\r\n                    {/* Styled Input */}\r\n                    <Input\r\n                      placeholder={field.placeholder}\r\n                      {...formField}\r\n                      type={field.type}\r\n                      className=\"glass-input bg-white/5 border-white/15 focus:border-primary/60 focus:ring-primary/30 focus:ring-2 transition-all text-base p-3 rounded-lg\" // Enhanced style\r\n                    />\r\n                  </FormControl>\r\n                  <FormMessage />\r\n                </FormItem>\r\n              )}\r\n            />\r\n           </motion.div>\r\n        ))}\r\n\r\n        {/* Styled Button */}\r\n        <motion.div\r\n           initial={{ opacity: 0, y: 10 }}\r\n           animate={{ opacity: 1, y: 0 }}\r\n           transition={{ duration: 0.4, delay: 0.2 }}\r\n        >\r\n          <Button\r\n            type=\"submit\"\r\n            disabled={isLoading}\r\n            className=\"glass-button bg-gradient-to-r from-primary to-secondary text-white hover:opacity-95 hover:shadow-lg transition-all duration-300 shadow-md text-lg py-3 font-semibold\" // Styled button\r\n          >\r\n            {isLoading ? 'Saving...' : 'Save Changes'}\r\n          </Button>\r\n        </motion.div>\r\n      </form>\r\n    </Form>\r\n  );\r\n}\r\n"],"names":[],"mappings":"AAAA,iDAAiD;;;;;AAGjD;AACA;AACA;AACA;AACA;AACA;AAEA,0UAAwC,gBAAgB;AAExD;AAAA;AACA;AAQA;;;AApBA;;;;;;;;;;;AA0BO,SAAS,kBAAkB,EAAE,OAAO,EAA0B;;IACnE,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAE3C,MAAM,OAAO,CAAA,GAAA,iKAAA,CAAA,UAAO,AAAD,EAAwB;QACzC,UAAU,CAAA,GAAA,iKAAA,CAAA,cAAW,AAAD,EAAE,kJAAA,CAAA,sBAAmB;QACzC,eAAe;YACb,WAAW,SAAS,aAAa;YACjC,YAAY,SAAS,cAAc;QACrC;IACF;IAEA,eAAe,SAAS,MAA4B;QAClD,aAAa;QAEb,IAAI;YACF,MAAM,SAAS,MAAM,CAAA,GAAA,+KAAA,CAAA,gBAAa,AAAD,EAAE;YAEnC,IAAI,QAAQ,OAAO;gBACjB,2IAAA,CAAA,QAAK,CAAC,KAAK,CAAC,OAAO,KAAK;YAC1B,OAAO,IAAI,QAAQ,SAAS;gBAC1B,2IAAA,CAAA,QAAK,CAAC,OAAO,CAAC;YAChB;QACF,EAAE,OAAO,OAAY;YACnB,2IAAA,CAAA,QAAK,CAAC,KAAK,CAAC,MAAM,OAAO,IAAI;QAC/B,SAAU;YACR,aAAa;QACf;IACF;IAEA,2CAA2C;IAC3C,MAAM,aAAa;QACjB;YAAE,MAAM;YAAa,OAAO;YAAQ,aAAa;YAAa,MAAM;YAAQ,OAAO;QAAE;QACrF;YAAE,MAAM;YAAc,OAAO;YAAc,aAAa;YAAkC,MAAM;YAAQ,OAAO;QAAI;KACpH;IAED,qBACE,6LAAC,qJAAA,CAAA,OAAI;QAAE,GAAG,IAAI;kBACZ,cAAA,6LAAC;YAAK,UAAU,KAAK,YAAY,CAAC;YAAW,WAAU;;gBAAY;gBAChE,WAAW,GAAG,CAAC,CAAC,sBACd,6LAAC,6LAAA,CAAA,SAAM,CAAC,GAAG;wBAET,SAAS;4BAAE,SAAS;4BAAG,GAAG;wBAAG;wBAC7B,SAAS;4BAAE,SAAS;4BAAG,GAAG;wBAAE;wBAC5B,YAAY;4BAAE,UAAU;4BAAK,OAAO,MAAM,KAAK;wBAAC;kCAEjD,cAAA,6LAAC,qJAAA,CAAA,YAAS;4BACR,SAAS,KAAK,OAAO;4BACrB,MAAM,MAAM,IAAI;4BAChB,QAAQ,CAAC,EAAE,OAAO,SAAS,EAAE,iBAC3B,6LAAC,qJAAA,CAAA,WAAQ;;sDAEP,6LAAC,qJAAA,CAAA,YAAS;4CAAC,WAAU;sDAA4C,MAAM,KAAK;;;;;;wCAAa;sDACzF,6LAAC,qJAAA,CAAA,cAAW;sDAEV,cAAA,6LAAC,sJAAA,CAAA,QAAK;gDACJ,aAAa,MAAM,WAAW;gDAC7B,GAAG,SAAS;gDACb,MAAM,MAAM,IAAI;gDAChB,WAAU,4IAA4I,iBAAiB;;;;;;;;;;;sDAG3K,6LAAC,qJAAA,CAAA,cAAW;;;;;;;;;;;;;;;;uBArBZ,MAAM,IAAI;;;;;8BA6BpB,6LAAC,6LAAA,CAAA,SAAM,CAAC,GAAG;oBACR,SAAS;wBAAE,SAAS;wBAAG,GAAG;oBAAG;oBAC7B,SAAS;wBAAE,SAAS;wBAAG,GAAG;oBAAE;oBAC5B,YAAY;wBAAE,UAAU;wBAAK,OAAO;oBAAI;8BAEzC,cAAA,6LAAC,uJAAA,CAAA,SAAM;wBACL,MAAK;wBACL,UAAU;wBACV,WAAU,uKAAuK,gBAAgB;;kCAEhM,YAAY,cAAc;;;;;;;;;;;;;;;;;;;;;;AAMvC;GArFgB;;QAGD,iKAAA,CAAA,UAAO;;;KAHN","debugId":null}},
    {"offset": {"line": 265, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/alish/Documents/GitHub/pixio-api-starter/apps/web/src/components/account/success-toast.tsx"],"sourcesContent":["// src/components/account/success-toast.tsx\r\n'use client';\r\n\r\nimport { useEffect } from 'react';\r\nimport { toast } from 'sonner';\r\nimport { useRouter, useSearchParams } from 'next/navigation';\r\n\r\nexport function SuccessToast() {\r\n  const router = useRouter();\r\n  const searchParams = useSearchParams();\r\n  const success = searchParams.get('success') === 'true';\r\n  const creditSuccess = searchParams.get('credit_success') === 'true';\r\n  \r\n  useEffect(() => {\r\n    if (success) {\r\n      // Show subscription success toast\r\n      toast.success(\r\n        <div className=\"flex flex-col\">\r\n          <span className=\"font-medium\">Payment successful!</span>\r\n          <span className=\"text-sm\">Your subscription is now active.</span>\r\n        </div>,\r\n        {\r\n          duration: 5000,\r\n        }\r\n      );\r\n      \r\n      // Clean up URL parameters\r\n      setTimeout(() => {\r\n        router.replace('/account');\r\n      }, 500);\r\n    } else if (creditSuccess) {\r\n      // Show credit purchase success toast\r\n      toast.success(\r\n        <div className=\"flex flex-col\">\r\n          <span className=\"font-medium\">Credits purchased!</span>\r\n          <span className=\"text-sm\">Your credits have been added to your account.</span>\r\n        </div>,\r\n        {\r\n          duration: 5000,\r\n        }\r\n      );\r\n      \r\n      // Clean up URL parameters\r\n      setTimeout(() => {\r\n        router.replace('/account');\r\n      }, 500);\r\n    }\r\n  }, [router, success, creditSuccess]);\r\n  \r\n  return null;\r\n}\r\n\r\n// This wrapper component handles all the URL parameter logic\r\nexport function SuccessToastWrapper() {\r\n  const searchParams = useSearchParams();\r\n  const success = searchParams.get('success') === 'true';\r\n  const creditSuccess = searchParams.get('credit_success') === 'true';\r\n  \r\n  if (success || creditSuccess) {\r\n    return <SuccessToast />;\r\n  }\r\n  \r\n  return null;\r\n}\r\n"],"names":[],"mappings":"AAAA,2CAA2C;;;;;;AAG3C;AACA;AACA;;;AAJA;;;;AAMO,SAAS;;IACd,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,eAAe,CAAA,GAAA,qIAAA,CAAA,kBAAe,AAAD;IACnC,MAAM,UAAU,aAAa,GAAG,CAAC,eAAe;IAChD,MAAM,gBAAgB,aAAa,GAAG,CAAC,sBAAsB;IAE7D,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;kCAAE;YACR,IAAI,SAAS;gBACX,kCAAkC;gBAClC,2IAAA,CAAA,QAAK,CAAC,OAAO,eACX,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAK,WAAU;sCAAc;;;;;;sCAC9B,6LAAC;4BAAK,WAAU;sCAAU;;;;;;;;;;;0BAE5B;oBACE,UAAU;gBACZ;gBAGF,0BAA0B;gBAC1B;8CAAW;wBACT,OAAO,OAAO,CAAC;oBACjB;6CAAG;YACL,OAAO,IAAI,eAAe;gBACxB,qCAAqC;gBACrC,2IAAA,CAAA,QAAK,CAAC,OAAO,eACX,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAK,WAAU;sCAAc;;;;;;sCAC9B,6LAAC;4BAAK,WAAU;sCAAU;;;;;;;;;;;0BAE5B;oBACE,UAAU;gBACZ;gBAGF,0BAA0B;gBAC1B;8CAAW;wBACT,OAAO,OAAO,CAAC;oBACjB;6CAAG;YACL;QACF;iCAAG;QAAC;QAAQ;QAAS;KAAc;IAEnC,OAAO;AACT;GA3CgB;;QACC,qIAAA,CAAA,YAAS;QACH,qIAAA,CAAA,kBAAe;;;KAFtB;AA8CT,SAAS;;IACd,MAAM,eAAe,CAAA,GAAA,qIAAA,CAAA,kBAAe,AAAD;IACnC,MAAM,UAAU,aAAa,GAAG,CAAC,eAAe;IAChD,MAAM,gBAAgB,aAAa,GAAG,CAAC,sBAAsB;IAE7D,IAAI,WAAW,eAAe;QAC5B,qBAAO,6LAAC;;;;;IACV;IAEA,OAAO;AACT;IAVgB;;QACO,qIAAA,CAAA,kBAAe;;;MADtB","debugId":null}},
    {"offset": {"line": 406, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/alish/Documents/GitHub/pixio-api-starter/apps/web/src/components/account/manage-subscription-button.tsx"],"sourcesContent":["// src/components/account/manage-subscription-button.tsx\r\n'use client';\r\n\r\nimport { Button } from '@repo/ui';\r\nimport { useState } from 'react';\r\nimport { toast } from 'sonner';\r\nimport { Loader2, Settings } from 'lucide-react'; // Added icon\r\n\r\nexport function ManageSubscriptionButton() {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const handleManageSubscription = async () => {\r\n    setIsLoading(true);\r\n\r\n    try {\r\n      const response = await fetch('/api/create-customer-portal', {\r\n        method: 'POST',\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (response.ok && data.url) {\r\n        window.location.href = data.url;\r\n      } else {\r\n        throw new Error(data.error || 'Failed to create customer portal session');\r\n      }\r\n    } catch (error: any) {\r\n      console.error('Error:', error);\r\n      toast.error(error.message || 'Something went wrong');\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    // Styled Button with icon\r\n    <Button\r\n      onClick={handleManageSubscription}\r\n      className=\"w-full glass-button bg-white/10 hover:bg-white/20 text-foreground hover:text-primary transition-all duration-300 shadow-md text-base py-2.5 font-semibold\" // Styled button\r\n      disabled={isLoading}\r\n    >\r\n      {isLoading ? (\r\n        <>\r\n           <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" /> Loading...\r\n        </>\r\n      ) : (\r\n        <>\r\n           <Settings className=\"mr-2 h-4 w-4\" /> Manage Subscription\r\n        </>\r\n      )}\r\n    </Button>\r\n  );\r\n}\r\n"],"names":[],"mappings":"AAAA,wDAAwD;;;;;AAGxD;AAAA;AACA;AACA;AACA,iXAAkD,aAAa;AAA/D;;;AALA;;;;;AAOO,SAAS;;IACd,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAE3C,MAAM,2BAA2B;QAC/B,aAAa;QAEb,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,+BAA+B;gBAC1D,QAAQ;YACV;YAEA,MAAM,OAAO,MAAM,SAAS,IAAI;YAEhC,IAAI,SAAS,EAAE,IAAI,KAAK,GAAG,EAAE;gBAC3B,OAAO,QAAQ,CAAC,IAAI,GAAG,KAAK,GAAG;YACjC,OAAO;gBACL,MAAM,IAAI,MAAM,KAAK,KAAK,IAAI;YAChC;QACF,EAAE,OAAO,OAAY;YACnB,QAAQ,KAAK,CAAC,UAAU;YACxB,2IAAA,CAAA,QAAK,CAAC,KAAK,CAAC,MAAM,OAAO,IAAI;YAC7B,aAAa;QACf;IACF;IAEA,OACE,0BAA0B;kBAC1B,6LAAC,uJAAA,CAAA,SAAM;QACL,SAAS;QACT,WAAU,4JAA4J,gBAAgB;;QACtL,UAAU;kBAET,0BACC;;8BACG,6LAAC,oNAAA,CAAA,UAAO;oBAAC,WAAU;;;;;;gBAA8B;;yCAGpD;;8BACG,6LAAC,6MAAA,CAAA,WAAQ;oBAAC,WAAU;;;;;;gBAAiB;;;;;;;;AAKhD;GA3CgB;KAAA","debugId":null}},
    {"offset": {"line": 493, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/alish/Documents/GitHub/pixio-api-starter/apps/web/src/components/account/credit-pack-card.tsx"],"sourcesContent":["// src/components/account/credit-pack-card.tsx\r\n'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { Card, CardContent } from '@repo/ui';\r\nimport { Button } from '@repo/ui';\r\nimport { formatPrice } from '@repo/ui/utils';\r\nimport { toast } from 'sonner';\r\nimport { motion } from 'framer-motion'; // Import motion\r\nimport { Sparkles } from 'lucide-react'; // Added icon\r\n\r\ninterface CreditPackCardProps {\r\n  creditPack: {\r\n    id: string;\r\n    name: string;\r\n    description: string;\r\n    amount: number;\r\n    price: number;\r\n    priceId: string;\r\n  };\r\n}\r\n\r\nexport function CreditPackCard({ creditPack }: CreditPackCardProps) {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const handlePurchase = async () => {\r\n    setIsLoading(true);\r\n\r\n    try {\r\n      const response = await fetch('/api/purchase-credits', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({ priceId: creditPack.priceId }),\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (response.ok && data.url) {\r\n        window.location.href = data.url;\r\n      } else {\r\n        throw new Error(data.error || 'Failed to create checkout session');\r\n      }\r\n    } catch (error: any) {\r\n      console.error('Error:', error);\r\n      toast.error(error.message || 'Something went wrong');\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    // Styled Card with hover effect\r\n    <motion.div\r\n       whileHover={{ y: -5, scale: 1.03 }} // Lift effect on hover\r\n       transition={{ type: \"spring\", stiffness: 300, damping: 20 }}\r\n       className=\"h-full\" // Ensure motion div takes full height for flex parent\r\n    >\r\n      <Card className=\"glass-card border border-white/15 shadow-md hover:shadow-xl transition-shadow duration-300 overflow-hidden h-full flex flex-col\">\r\n        <CardContent className=\"p-6 flex flex-col flex-grow space-y-4\"> {/* Increased spacing */}\r\n          <div className=\"flex-grow space-y-2\">\r\n            {/* Credit Amount Display */}\r\n            <div className=\"flex items-center gap-2 text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-primary to-secondary inline-block\">\r\n              <Sparkles className=\"w-6 h-6\" />\r\n              {creditPack.amount.toLocaleString()} Credits\r\n            </div>\r\n\r\n            {/* Name and Description */}\r\n            <div>\r\n              <h3 className=\"text-lg font-semibold text-foreground/95\">{creditPack.name}</h3> {/* Larger text */}\r\n              <p className=\"text-sm text-muted-foreground\">{creditPack.description}</p>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Price */}\r\n          <div className=\"text-3xl font-bold text-primary/90 mt-auto\">{formatPrice(creditPack.price)}</div> {/* Larger, colored price */}\r\n\r\n          {/* Purchase Button */}\r\n          <Button\r\n            onClick={handlePurchase}\r\n            className=\"w-full glass-button bg-gradient-to-r from-secondary to-accent text-white hover:opacity-95 hover:shadow-lg transition-all duration-300 shadow-md text-base py-2.5 font-semibold\" // Styled button\r\n            disabled={isLoading || !creditPack.priceId}\r\n          >\r\n            {isLoading ? 'Processing...' : 'Purchase'}\r\n          </Button>\r\n        </CardContent>\r\n      </Card>\r\n    </motion.div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"AAAA,8CAA8C;;;;;AAG9C;AACA;AAAA;AACA;AACA;AACA;AACA,0UAAwC,gBAAgB;AACxD,sWAAyC,aAAa;;;AARtD;;;;;;;;AAqBO,SAAS,eAAe,EAAE,UAAU,EAAuB;;IAChE,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAE3C,MAAM,iBAAiB;QACrB,aAAa;QAEb,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,yBAAyB;gBACpD,QAAQ;gBACR,SAAS;oBACP,gBAAgB;gBAClB;gBACA,MAAM,KAAK,SAAS,CAAC;oBAAE,SAAS,WAAW,OAAO;gBAAC;YACrD;YAEA,MAAM,OAAO,MAAM,SAAS,IAAI;YAEhC,IAAI,SAAS,EAAE,IAAI,KAAK,GAAG,EAAE;gBAC3B,OAAO,QAAQ,CAAC,IAAI,GAAG,KAAK,GAAG;YACjC,OAAO;gBACL,MAAM,IAAI,MAAM,KAAK,KAAK,IAAI;YAChC;QACF,EAAE,OAAO,OAAY;YACnB,QAAQ,KAAK,CAAC,UAAU;YACxB,2IAAA,CAAA,QAAK,CAAC,KAAK,CAAC,MAAM,OAAO,IAAI;YAC7B,aAAa;QACf;IACF;IAEA,OACE,gCAAgC;kBAChC,6LAAC,6LAAA,CAAA,SAAM,CAAC,GAAG;QACR,YAAY;YAAE,GAAG,CAAC;YAAG,OAAO;QAAK;QACjC,YAAY;YAAE,MAAM;YAAU,WAAW;YAAK,SAAS;QAAG;QAC1D,WAAU,SAAS,sDAAsD;;kBAE1E,cAAA,6LAAC,qJAAA,CAAA,OAAI;YAAC,WAAU;sBACd,cAAA,6LAAC,qJAAA,CAAA,cAAW;gBAAC,WAAU;;oBAAwC;kCAC7D,6LAAC;wBAAI,WAAU;;0CAEb,6LAAC;gCAAI,WAAU;;kDACb,6LAAC,6MAAA,CAAA,WAAQ;wCAAC,WAAU;;;;;;oCACnB,WAAW,MAAM,CAAC,cAAc;oCAAG;;;;;;;0CAItC,6LAAC;;kDACC,6LAAC;wCAAG,WAAU;kDAA4C,WAAW,IAAI;;;;;;oCAAM;kDAC/E,6LAAC;wCAAE,WAAU;kDAAiC,WAAW,WAAW;;;;;;;;;;;;;;;;;;kCAKxE,6LAAC;wBAAI,WAAU;kCAA8C,CAAA,GAAA,wIAAA,CAAA,cAAW,AAAD,EAAE,WAAW,KAAK;;;;;;oBAAQ;kCAGjG,6LAAC,uJAAA,CAAA,SAAM;wBACL,SAAS;wBACT,WAAU,iLAAiL,gBAAgB;;wBAC3M,UAAU,aAAa,CAAC,WAAW,OAAO;kCAEzC,YAAY,kBAAkB;;;;;;;;;;;;;;;;;;;;;;AAM3C;GAnEgB;KAAA","debugId":null}}]
}